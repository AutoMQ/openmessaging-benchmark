# This is a basic configuration file for Tempo
# For more details, see [Configure Tempo](https://grafana.com/docs/tempo/latest/configuration/)
server:
  http_listen_port: 3200 # listen port for Tempo
distributor:
  receivers: # configure receivers for different protocols
    otlp: # accept OTLP spans
      protocols:
        grpc: # OTLP gRPC
          endpoint: 0.0.0.0:4320
ingester:
  trace_idle_period: 120s # the length of time after a trace has not received spans to consider it complete and flush it
  max_block_bytes: 1_000_000 # cut the head block when it hits this size or ...
  max_block_duration: 5m # this much time passes
compactor:
  compaction:
    compaction_window: 1h # blocks in this time window will be compacted together
    max_block_bytes: 100_000_000 # maximum size of compacted blocks
    block_retention: 1h # delete blocks older than 1h
    compacted_block_retention: 10m # delete compacted blocks older than 10m
storage:
  trace:
    backend: local # use local storage as the backend
    local:
      path: /tmp/tempo/ # where to store the blocks locally

